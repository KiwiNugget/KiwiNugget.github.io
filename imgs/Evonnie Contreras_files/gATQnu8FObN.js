/*!CK:888365715!*//*1430719309,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["7rgXg"]); }

__d("ActorSelectorNuxTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={COMPOSER:"composer_seen_count",COMPOSER_COVERED:"composer_covered_seen_count",M_COMPOSER:"m_composer_seen_count",M_UFI:"m_ufi_seen_count",UFI:"ufi_seen_count",UFI_TIMELINE:"ufi_timeline_seen_count",UFI_TIMELINE_COVERED:"ufi_timeline_covered_seen_count"};},null);
__d("BusinessConf",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={DOMAIN:"business",HOSTNAME:"business.facebook.com",BIZ_ID_PARAM_NAME:"business_id",LABEL_ID_PARAM_NAME:"project_id",ACCOUNT_ID_PARAM_NAME:"act",ACCOUNT_ID_PARAM_NAME_LONG:"account_id",ACCOUNT_IDS_PARAM_NAME_LONG:"account_ids",PAGE_ID_PARAM_NAME:"id",PAGE_ADMIN_SELECTED_KEY:"sk",PRODUCT_CATALOG_ID_PARAM_NAME:"catalog_id",PRODUCT_FEED_ID_PARAM_NAME:"feed_id",LEGACY_ADS_MANAGER_PREFIX:"\/ads\/manage\/",CAMPAIGN_MANAGER_PREFIX:"\/ads\/manager\/",SAM_PREFIX:"\/ads\/management\/",SHOW_ADD_PRODUCT_FEED_DIALOG:"add_feed",SHOW_SPLASH_PARAM_NAME:"splash",SHOW_GRAY_MIGRATE_COMPLETE_SPLASH_PARAM_NAME:"migrate",WHITELISTED_URI_CLASS:"bizOK",OPT_OUT_KEY:"do_not_redirect_to_biz_site",OPT_OUT_EXPIRE:86400,HIGHLANDER_OPT_OUT_KEY:"use_biz_page_in_highlander"};},null);
__d("BusinessAssetGrouping.brands",["emptyFunction","fbt","getObjectValues"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=(h._("Personal")),k="personal-business",l={NULL_BIZ_ID:k,DEFAULT_NON_BIZ_NAME:j,groupAssets:function(t,u,v,w,x,y,z,aa){x=x||q;y=y||g.thatReturnsTrue;var ba=m(t,u,v),ca=ba.businessesByID;ca[k]={id:k,name:z||j};var da=n(ba.assetsByBizID,ca,w),ea=r(i(da),p);if(aa&&ea[0].bizID===k)ea.shift();var fa=[];for(var ga=0;ga<ea.length;ga++){var ha=ea[ga],ia=false;ha.assets=r(ha.assets,x);ha.assets=s(ha.assets,y,ha.bizID);if(ha.assets.length!==0){fa=fa.concat(ha.assets);ia=true;}ha.projects=r(i(ha.projectsByID),o);delete ha.projectsByID;for(var ja=0;ja<ha.projects.length;ja++){ha.projects[ja].assets=r(ha.projects[ja].assets,x);ha.projects[ja].assets=s(ha.projects[ja].assets,y,ha.bizID);if(ha.projects[ja].assets.length!==0){fa=fa.concat(ha.projects[ja].assets);ia=true;}}if(!ia)ea[ga]=null;}ea=ea.filter(function(ka){return ka;});return {businessesByID:ca,groupedAssets:ea,assets:fa};}};function m(t,u,v){var w={},x={};for(var y=0;y<t.length;y++){var z=t[y],aa=v(z);if(!aa||aa.length===0){w[k]?w[k].push(z):w[k]=[z];continue;}for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da;if(ca.business){da=ca.business.id;x[da]=ca.business;}else da=k;if(w[da]){w[da].push(z);}else w[da]=[z];}}return {assetsByBizID:w,businessesByID:x};}function n(t,u,v){var w={},x;for(var y in t){x=t[y];w[y]=w[y]||{bizID:y,name:u[y].name,projectsByID:{},assets:[]};for(var z=0;z<x.length;z++){var aa=x[z],ba=v(aa),ca=false;if(y!==k&&ba&&ba.length>0)for(var da=0;da<ba.length;da++){var ea=ba[da];if(ea.business&&ea.business.id!==y)continue;var fa=w[y].projectsByID;fa[ea.id]=fa[ea.id]||{projectID:ea.id,name:u[y].name+" - "+ea.name,assets:[]};fa[ea.id].assets.push(aa);ca=true;}if(!ca)w[y].assets.push(aa);}}return w;}function o(t){return (t.name||"").toUpperCase();}function p(t){if(t.bizID===k)return String.fromCharCode(0);return t.name;}function q(t){return t.name?t.name:t.id;}function r(t,u){return t.sort(function(v,w){var x=u(v),y=u(w);if(x>y){return 1;}else if(x<y){return -1;}else return 0;});}function s(t,u,v){return t.filter(function(w){return u(w,v);});}e.exports=l;},null);
__d("BizSiteIdentifier.brands",["BusinessConf","BusinessAssetGrouping.brands","URI"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h.NULL_BIZ_ID,k={isBizSite:function(){return i.getRequestURI(false).getSubdomain()===g.DOMAIN;},getBusinessID:function(){return i.getRequestURI(false).getQueryData()[g.BIZ_ID_PARAM_NAME];},createBusinessURL:function(l,m){if(m===j)return i(l).setSubdomain('www');var n=i(l).setSubdomain(g.DOMAIN);if(k.isBizSite())n.setDomain(i.getRequestURI().getDomain());var o=m||k.getBusinessID();n.addQueryData(g.BIZ_ID_PARAM_NAME,o);return n;}};e.exports=k;},null);
__d("ContextualBlind",["Event","Animation","Arbiter","DOM","Rect","Vector","$","cx","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=0,q=1,r=.8,s=500;function t(){"use strict";}t.prototype.$ContextualBlind0=function(){"use strict";this.$ContextualBlind1&&i.unsubscribe(this.$ContextualBlind1);this.$ContextualBlind1=null;this.$ContextualBlind2=[];this.$ContextualBlind3&&this.$ContextualBlind3.remove();this.$ContextualBlind3=null;this.$ContextualBlind4&&j.remove(this.$ContextualBlind4);this.$ContextualBlind5=false;};t.prototype.show=function(u,v,w,x,y,z,aa,ba){"use strict";if(aa==null)aa=r;ba=ba||p;this.hide();var ca=(ba===p)?"_2xgb":"_2xgc";for(var da=0;da<4;da++)this.$ContextualBlind2.push(j.create('div',{className:ca,style:'opacity:'+aa}));j.appendContent(document.body,this.$ContextualBlind2);if(z!==false){ca=(ba===p)?"_2xgd":"_2xge";this.$ContextualBlind4=j.create('div',{className:ca});j.appendContent(document.body,this.$ContextualBlind4);}var ea=o(this.updatePosition,this,u,v,w,x,y);ea();this.$ContextualBlind1=i.subscribe('reflow',ea);this.$ContextualBlind3=g.listen(window,'resize',ea);this.$ContextualBlind5=true;};t.prototype.fadeIn=function(u,v,w,x,y,z,aa,ba){"use strict";ba=ba||s;if(aa==null)aa=r;this.show(u,v,w,x,y,z,aa,p);if(this.$ContextualBlind5)return;for(var ca=0;ca<this.$ContextualBlind2.length;ca++){var da=this.$ContextualBlind2[ca];new h(da).duration(ba).from('opacity',0).to('opacity',aa).go();}};t.prototype.hide=function(){"use strict";this.$ContextualBlind2&&this.$ContextualBlind2.forEach(j.remove);this.$ContextualBlind0();};t.prototype.fadeOut=function(){"use strict";for(var u=0;u<this.$ContextualBlind2.length;u++){var v=this.$ContextualBlind2[u];new h(v).duration(s).from('opacity',r).to('opacity',0).ondone(j.remove.bind(null,v)).go();}this.$ContextualBlind0();};t.prototype.$ContextualBlind6=function(u,v){"use strict";v.getPositionVector().setElementPosition(u);v.getDimensionVector().setElementDimensions(u);};t.prototype.updatePosition=function(u,v,w,x,y){"use strict";var z=l.getDocumentDimensions().y,aa=k.getElementBounds(m(u));aa=new k(aa.t-(v||0),aa.r+(w||0),aa.b+(x||0),aa.l-(y||0),aa.domain);var ba=document,ca=(ba&&ba.documentElement&&ba.documentElement.scrollWidth)||(ba&&ba.body&&ba.body.scrollWidth)||0;this.$ContextualBlind6(this.$ContextualBlind2[0],new k(0,ca,aa.t,0,'document'));this.$ContextualBlind6(this.$ContextualBlind2[1],new k(aa.t,ca,aa.b,aa.r,'document'));this.$ContextualBlind6(this.$ContextualBlind2[2],new k(aa.b,ca,z,0,'document'));this.$ContextualBlind6(this.$ContextualBlind2[3],new k(aa.t,aa.l,aa.b,0,'document'));if(this.$ContextualBlind4)this.$ContextualBlind6(this.$ContextualBlind4,aa);};t.STYLE_LIGHT=p;t.STYLE_DARK=q;e.exports=t;},null);
__d("ContextualLayerBlind",["ContextualBlind","cx","CSS"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={isModal:false,opacity:.3,paddingTop:8,paddingRight:8,paddingBottom:8,paddingLeft:8,style:g.STYLE_DARK};function k(l,m){"use strict";m=Object.assign({},j,m);this.$ContextualLayerBlind0=m.isModal;this.$ContextualLayerBlind1=l;this.$ContextualLayerBlind2=m.opacity;this.$ContextualLayerBlind3=m.paddingTop;this.$ContextualLayerBlind4=m.paddingRight;this.$ContextualLayerBlind5=m.paddingBottom;this.$ContextualLayerBlind6=m.paddingLeft;this.$ContextualLayerBlind7=m.style;}k.prototype.enable=function(){"use strict";this.$ContextualLayerBlind8=[this.$ContextualLayerBlind1.subscribe(['show','reposition'],this.$ContextualLayerBlind9.bind(this)),this.$ContextualLayerBlind1.subscribe('hide',this.$ContextualLayerBlinda.bind(this))];i.addClass(this.$ContextualLayerBlind1.getRoot(),"_4746");this.$ContextualLayerBlindb=new g();};k.prototype.disable=function(){"use strict";this.$ContextualLayerBlinda();i.removeClass(this.$ContextualLayerBlind1.getRoot(),"_4746");while(this.$ContextualLayerBlind8.length)this.$ContextualLayerBlind8.pop().unsubscribe();this.$ContextualLayerBlind8=null;this.$ContextualLayerBlindb=null;};k.prototype.$ContextualLayerBlind9=function(){"use strict";if(this.$ContextualLayerBlind1.isShown()){var l=this.$ContextualLayerBlind1.getContext();this.$ContextualLayerBlindb.show(l,this.$ContextualLayerBlind3,this.$ContextualLayerBlind4,this.$ContextualLayerBlind5,this.$ContextualLayerBlind6,this.$ContextualLayerBlind0,this.$ContextualLayerBlind2,this.$ContextualLayerBlind7);}};k.prototype.$ContextualLayerBlinda=function(){"use strict";this.$ContextualLayerBlindb.hide();};e.exports=k;},null);
__d("XUIMenuSeparator.react",["MenuSeparator.react"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g;e.exports=h;},null);
/**
 * @providesModule underscore.ads
 * @preserve-header
 *
 * Underscore.js 1.5.2
 * ===================

 * > http://underscorejs.org
 * > Underscore may be freely distributed under the MIT license.
 * > (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative
 *   Reporters & Editors

 * Baseline setup
 * --------------
 */__d("underscore.ads",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();(function(){var g=this,h=g._,i={},j=Array.prototype,k=Object.prototype,l=Function.prototype,m=j.push,n=j.slice,o=j.concat,p=k.toString,q=k.hasOwnProperty,r=j.forEach,s=j.map,t=j.reduce,u=j.reduceRight,v=j.filter,w=j.every,x=j.some,y=j.indexOf,z=j.lastIndexOf,aa=Array.isArray,ba=Object.keys,ca=l.bind,da=function(ta){if(ta instanceof da)return ta;if(!(this instanceof da))return new da(ta);this._wrapped=ta;};if(typeof f!=='undefined'){if(typeof e!=='undefined'&&e.exports)f=e.exports=da;f._=da;}else g._=da;da.VERSION='1.5.2';var ea=da.each=da.forEach=function(ta,ua,va){if(ta==null)return;if(r&&ta.forEach===r){ta.forEach(ua,va);}else if(ta.length===+ta.length){for(var wa=0,xa=ta.length;wa<xa;wa++)if(ua.call(va,ta[wa],wa,ta)===i)return;}else{var ya=da.keys(ta);for(var wa=0,xa=ya.length;wa<xa;wa++)if(ua.call(va,ta[ya[wa]],ya[wa],ta)===i)return;}};da.map=da.collect=function(ta,ua,va){var wa=[];if(ta==null)return wa;if(s&&ta.map===s)return ta.map(ua,va);ea(ta,function(xa,ya,za){wa.push(ua.call(va,xa,ya,za));});return wa;};var fa='Reduce of empty array with no initial value';da.reduce=da.foldl=da.inject=function(ta,ua,va,wa){var xa=arguments.length>2;if(ta==null)ta=[];if(t&&ta.reduce===t){if(wa)ua=da.bind(ua,wa);return xa?ta.reduce(ua,va):ta.reduce(ua);}ea(ta,function(ya,za,ab){if(!xa){va=ya;xa=true;}else va=ua.call(wa,va,ya,za,ab);});if(!xa)throw new TypeError(fa);return va;};da.reduceRight=da.foldr=function(ta,ua,va,wa){var xa=arguments.length>2;if(ta==null)ta=[];if(u&&ta.reduceRight===u){if(wa)ua=da.bind(ua,wa);return xa?ta.reduceRight(ua,va):ta.reduceRight(ua);}var ya=ta.length;if(ya!==+ya){var za=da.keys(ta);ya=za.length;}ea(ta,function(ab,bb,cb){bb=za?za[--ya]:--ya;if(!xa){va=ta[bb];xa=true;}else va=ua.call(wa,va,ta[bb],bb,cb);});if(!xa)throw new TypeError(fa);return va;};da.find=da.detect=function(ta,ua,va){var wa;ga(ta,function(xa,ya,za){if(ua.call(va,xa,ya,za)){wa=xa;return true;}});return wa;};da.filter=da.select=function(ta,ua,va){var wa=[];if(ta==null)return wa;if(v&&ta.filter===v)return ta.filter(ua,va);ea(ta,function(xa,ya,za){if(ua.call(va,xa,ya,za))wa.push(xa);});return wa;};da.reject=function(ta,ua,va){return da.filter(ta,function(wa,xa,ya){return !ua.call(va,wa,xa,ya);},va);};da.every=da.all=function(ta,ua,va){ua||(ua=da.identity);var wa=true;if(ta==null)return wa;if(w&&ta.every===w)return ta.every(ua,va);ea(ta,function(xa,ya,za){if(!(wa=wa&&ua.call(va,xa,ya,za)))return i;});return !!wa;};var ga=da.some=da.any=function(ta,ua,va){ua||(ua=da.identity);var wa=false;if(ta==null)return wa;if(x&&ta.some===x)return ta.some(ua,va);ea(ta,function(xa,ya,za){if(wa||(wa=ua.call(va,xa,ya,za)))return i;});return !!wa;};da.contains=da.include=function(ta,ua){if(ta==null)return false;if(y&&ta.indexOf===y)return ta.indexOf(ua)!=-1;return ga(ta,function(va){return va===ua;});};da.invoke=function(ta,ua){var va=n.call(arguments,2),wa=da.isFunction(ua);return da.map(ta,function(xa){return (wa?ua:xa[ua]).apply(xa,va);});};da.pluck=function(ta,ua){return da.map(ta,function(va){return va[ua];});};da.where=function(ta,ua,va){if(da.isEmpty(ua))return va?void 0:[];return da[va?'find':'filter'](ta,function(wa){for(var xa in ua)if(ua[xa]!==wa[xa])return false;return true;});};da.findWhere=function(ta,ua){return da.where(ta,ua,true);};da.max=function(ta,ua,va){if(!ua&&da.isArray(ta)&&ta[0]===+ta[0]&&ta.length<65535)return Math.max.apply(Math,ta);if(!ua&&da.isEmpty(ta))return -Infinity;var wa={computed:-Infinity,value:-Infinity};ea(ta,function(xa,ya,za){var ab=ua?ua.call(va,xa,ya,za):xa;ab>wa.computed&&(wa={value:xa,computed:ab});});return wa.value;};da.min=function(ta,ua,va){if(!ua&&da.isArray(ta)&&ta[0]===+ta[0]&&ta.length<65535)return Math.min.apply(Math,ta);if(!ua&&da.isEmpty(ta))return Infinity;var wa={computed:Infinity,value:Infinity};ea(ta,function(xa,ya,za){var ab=ua?ua.call(va,xa,ya,za):xa;ab<wa.computed&&(wa={value:xa,computed:ab});});return wa.value;};da.shuffle=function(ta){var ua,va=0,wa=[];ea(ta,function(xa){ua=da.random(va++);wa[va-1]=wa[ua];wa[ua]=xa;});return wa;};da.sample=function(ta,ua,va){if(arguments.length<2||va)return ta[da.random(ta.length-1)];return da.shuffle(ta).slice(0,Math.max(0,ua));};var ha=function(ta){return da.isFunction(ta)?ta:function(ua){return ua[ta];};};da.sortBy=function(ta,ua,va){var wa=ha(ua);return da.pluck(da.map(ta,function(xa,ya,za){return {value:xa,index:ya,criteria:wa.call(va,xa,ya,za)};}).sort(function(xa,ya){var za=xa.criteria,ab=ya.criteria;if(za!==ab){if(za>ab||za===void 0)return 1;if(za<ab||ab===void 0)return -1;}return xa.index-ya.index;}),'value');};var ia=function(ta){return function(ua,va,wa){var xa={},ya=va==null?da.identity:ha(va);ea(ua,function(za,ab){var bb=ya.call(wa,za,ab,ua);ta(xa,bb,za);});return xa;};};da.groupBy=ia(function(ta,ua,va){(da.has(ta,ua)?ta[ua]:(ta[ua]=[])).push(va);});da.indexBy=ia(function(ta,ua,va){ta[ua]=va;});da.countBy=ia(function(ta,ua){da.has(ta,ua)?ta[ua]++:ta[ua]=1;});da.sortedIndex=function(ta,ua,va,wa){va=va==null?da.identity:ha(va);var xa=va.call(wa,ua),ya=0,za=ta.length;while(ya<za){var ab=(ya+za)>>>1;va.call(wa,ta[ab])<xa?ya=ab+1:za=ab;}return ya;};da.toArray=function(ta){if(!ta)return [];if(da.isArray(ta))return n.call(ta);if(ta.length===+ta.length)return da.map(ta,da.identity);return da.values(ta);};da.size=function(ta){if(ta==null)return 0;return (ta.length===+ta.length)?ta.length:da.keys(ta).length;};da.first=da.head=da.take=function(ta,ua,va){if(ta==null)return void 0;return (ua==null)||va?ta[0]:n.call(ta,0,ua);};da.initial=function(ta,ua,va){return n.call(ta,0,ta.length-((ua==null)||va?1:ua));};da.last=function(ta,ua,va){if(ta==null)return void 0;if((ua==null)||va){return ta[ta.length-1];}else return n.call(ta,Math.max(ta.length-ua,0));};da.rest=da.tail=da.drop=function(ta,ua,va){return n.call(ta,(ua==null)||va?1:ua);};da.compact=function(ta){return da.filter(ta,da.identity);};var ja=function(ta,ua,va){if(ua&&da.every(ta,da.isArray))return o.apply(va,ta);ea(ta,function(wa){if(da.isArray(wa)||da.isArguments(wa)){ua?m.apply(va,wa):ja(wa,ua,va);}else va.push(wa);});return va;};da.flatten=function(ta,ua){return ja(ta,ua,[]);};da.without=function(ta){return da.difference(ta,n.call(arguments,1));};da.uniq=da.unique=function(ta,ua,va,wa){if(da.isFunction(ua)){wa=va;va=ua;ua=false;}var xa=va?da.map(ta,va,wa):ta,ya=[],za=[];ea(xa,function(ab,bb){if(ua?(!bb||za[za.length-1]!==ab):!da.contains(za,ab)){za.push(ab);ya.push(ta[bb]);}});return ya;};da.union=function(){return da.uniq(da.flatten(arguments,true));};da.intersection=function(ta){var ua=n.call(arguments,1);return da.filter(da.uniq(ta),function(va){return da.every(ua,function(wa){return da.indexOf(wa,va)>=0;});});};da.difference=function(ta){var ua=o.apply(j,n.call(arguments,1));return da.filter(ta,function(va){return !da.contains(ua,va);});};da.zip=function(){var ta=da.max(da.pluck(arguments,"length").concat(0)),ua=new Array(ta);for(var va=0;va<ta;va++)ua[va]=da.pluck(arguments,''+va);return ua;};da.object=function(ta,ua){if(ta==null)return {};var va={};for(var wa=0,xa=ta.length;wa<xa;wa++)if(ua){va[ta[wa]]=ua[wa];}else va[ta[wa][0]]=ta[wa][1];return va;};da.indexOf=function(ta,ua,va){if(ta==null)return -1;var wa=0,xa=ta.length;if(va)if(typeof va=='number'){wa=(va<0?Math.max(0,xa+va):va);}else{wa=da.sortedIndex(ta,ua);return ta[wa]===ua?wa:-1;}if(y&&ta.indexOf===y)return ta.indexOf(ua,va);for(;wa<xa;wa++)if(ta[wa]===ua)return wa;return -1;};da.lastIndexOf=function(ta,ua,va){if(ta==null)return -1;var wa=va!=null;if(z&&ta.lastIndexOf===z)return wa?ta.lastIndexOf(ua,va):ta.lastIndexOf(ua);var xa=(wa?va:ta.length);while(xa--)if(ta[xa]===ua)return xa;return -1;};da.range=function(ta,ua,va){if(arguments.length<=1){ua=ta||0;ta=0;}va=arguments[2]||1;var wa=Math.max(Math.ceil((ua-ta)/va),0),xa=0,ya=new Array(wa);while(xa<wa){ya[xa++]=ta;ta+=va;}return ya;};var ka=function(){};da.bind=function(ta,ua){var va,wa;if(ca&&ta.bind===ca)return ca.apply(ta,n.call(arguments,1));if(!da.isFunction(ta))throw new TypeError();va=n.call(arguments,2);return wa=function(){if(!(this instanceof wa))return ta.apply(ua,va.concat(n.call(arguments)));ka.prototype=ta.prototype;var xa=new ka();ka.prototype=null;var ya=ta.apply(xa,va.concat(n.call(arguments)));if(Object(ya)===ya)return ya;return xa;};};da.partial=function(ta){var ua=n.call(arguments,1);return function(){return ta.apply(this,ua.concat(n.call(arguments)));};};da.bindAll=function(ta){var ua=n.call(arguments,1);if(ua.length===0)throw new Error("bindAll must be passed function names");ea(ua,function(va){ta[va]=da.bind(ta[va],ta);});return ta;};da.memoize=function(ta,ua){var va={};ua||(ua=da.identity);return function(){var wa=ua.apply(this,arguments);return da.has(va,wa)?va[wa]:(va[wa]=ta.apply(this,arguments));};};da.delay=function(ta,ua){var va=n.call(arguments,2);return setTimeout(function(){return ta.apply(null,va);},ua);};da.defer=function(ta){return da.delay.apply(da,[ta,1].concat(n.call(arguments,1)));};da.throttle=function(ta,ua,va){var wa,xa,ya,za=null,ab=0;va||(va={});var bb=function(){ab=va.leading===false?0:new Date();za=null;ya=ta.apply(wa,xa);};return function(){var cb=new Date();if(!ab&&va.leading===false)ab=cb;var db=ua-(cb-ab);wa=this;xa=arguments;if(db<=0){clearTimeout(za);za=null;ab=cb;ya=ta.apply(wa,xa);}else if(!za&&va.trailing!==false)za=setTimeout(bb,db);return ya;};};da.debounce=function(ta,ua,va){var wa,xa,ya,za,ab;return function(){ya=this;xa=arguments;za=new Date();var bb=function(){var db=(new Date())-za;if(db<ua){wa=setTimeout(bb,ua-db);}else{wa=null;if(!va)ab=ta.apply(ya,xa);}},cb=va&&!wa;if(!wa)wa=setTimeout(bb,ua);if(cb)ab=ta.apply(ya,xa);return ab;};};da.once=function(ta){var ua=false,va;return function(){if(ua)return va;ua=true;va=ta.apply(this,arguments);ta=null;return va;};};da.wrap=function(ta,ua){return function(){var va=[ta];m.apply(va,arguments);return ua.apply(this,va);};};da.compose=function(){var ta=arguments;return function(){var ua=arguments;for(var va=ta.length-1;va>=0;va--)ua=[ta[va].apply(this,ua)];return ua[0];};};da.after=function(ta,ua){return function(){if(--ta<1)return ua.apply(this,arguments);};};da.keys=ba||function(ta){if(ta!==Object(ta))throw new TypeError('Invalid object');var ua=[];for(var va in ta)if(da.has(ta,va))ua.push(va);return ua;};da.values=function(ta){var ua=da.keys(ta),va=ua.length,wa=new Array(va);for(var xa=0;xa<va;xa++)wa[xa]=ta[ua[xa]];return wa;};da.pairs=function(ta){var ua=da.keys(ta),va=ua.length,wa=new Array(va);for(var xa=0;xa<va;xa++)wa[xa]=[ua[xa],ta[ua[xa]]];return wa;};da.invert=function(ta){var ua={},va=da.keys(ta);for(var wa=0,xa=va.length;wa<xa;wa++)ua[ta[va[wa]]]=va[wa];return ua;};da.functions=da.methods=function(ta){var ua=[];for(var va in ta)if(da.isFunction(ta[va]))ua.push(va);return ua.sort();};da.extend=function(ta){ea(n.call(arguments,1),function(ua){if(ua)for(var va in ua)ta[va]=ua[va];});return ta;};da.pick=function(ta){var ua={},va=o.apply(j,n.call(arguments,1));ea(va,function(wa){if(wa in ta)ua[wa]=ta[wa];});return ua;};da.omit=function(ta){var ua={},va=o.apply(j,n.call(arguments,1));for(var wa in ta)if(!da.contains(va,wa))ua[wa]=ta[wa];return ua;};da.defaults=function(ta){ea(n.call(arguments,1),function(ua){if(ua)for(var va in ua)if(ta[va]===void 0)ta[va]=ua[va];});return ta;};da.clone=function(ta){if(!da.isObject(ta))return ta;return da.isArray(ta)?ta.slice():da.extend({},ta);};da.tap=function(ta,ua){ua(ta);return ta;};var la=function(ta,ua,va,wa){if(ta===ua)return ta!==0||1/ta==1/ua;if(ta==null||ua==null)return ta===ua;if(ta instanceof da)ta=ta._wrapped;if(ua instanceof da)ua=ua._wrapped;var xa=p.call(ta);if(xa!=p.call(ua))return false;switch(xa){case '[object String]':return ta==String(ua);case '[object Number]':return ta!=+ta?ua!=+ua:(ta==0?1/ta==1/ua:ta==+ua);case '[object Date]':case '[object Boolean]':return +ta==+ua;case '[object RegExp]':return ta.source==ua.source&&ta.global==ua.global&&ta.multiline==ua.multiline&&ta.ignoreCase==ua.ignoreCase;}if(typeof ta!='object'||typeof ua!='object')return false;var ya=va.length;while(ya--)if(va[ya]==ta)return wa[ya]==ua;var za=ta.constructor,ab=ua.constructor;if(za!==ab&&!(da.isFunction(za)&&(za instanceof za)&&da.isFunction(ab)&&(ab instanceof ab)))return false;va.push(ta);wa.push(ua);var bb=0,cb=true;if(xa=='[object Array]'){bb=ta.length;cb=bb==ua.length;if(cb)while(bb--)if(!(cb=la(ta[bb],ua[bb],va,wa)))break;}else{for(var db in ta)if(da.has(ta,db)){bb++;if(!(cb=da.has(ua,db)&&la(ta[db],ua[db],va,wa)))break;}if(cb){for(db in ua)if(da.has(ua,db)&&!(bb--))break;cb=!bb;}}va.pop();wa.pop();return cb;};da.isEqual=function(ta,ua){return la(ta,ua,[],[]);};da.isEmpty=function(ta){if(ta==null)return true;if(da.isArray(ta)||da.isString(ta))return ta.length===0;for(var ua in ta)if(da.has(ta,ua))return false;return true;};da.isElement=function(ta){return !!(ta&&ta.nodeType===1);};da.isArray=aa||function(ta){return p.call(ta)=='[object Array]';};da.isObject=function(ta){return ta===Object(ta);};ea(['Arguments','Function','String','Number','Date','RegExp'],function(ta){da['is'+ta]=function(ua){return p.call(ua)=='[object '+ta+']';};});if(!da.isArguments(arguments))da.isArguments=function(ta){return !!(ta&&da.has(ta,'callee'));};if(typeof(/./)!=='function')da.isFunction=function(ta){return typeof ta==='function';};da.isFinite=function(ta){return isFinite(ta)&&!isNaN(parseFloat(ta));};da.isNaN=function(ta){return da.isNumber(ta)&&ta!=+ta;};da.isBoolean=function(ta){return ta===true||ta===false||p.call(ta)=='[object Boolean]';};da.isNull=function(ta){return ta===null;};da.isUndefined=function(ta){return ta===void 0;};da.has=function(ta,ua){return q.call(ta,ua);};da.noConflict=function(){g._=h;return this;};da.identity=function(ta){return ta;};da.times=function(ta,ua,va){var wa=Array(Math.max(0,ta));for(var xa=0;xa<ta;xa++)wa[xa]=ua.call(va,xa);return wa;};da.random=function(ta,ua){if(ua==null){ua=ta;ta=0;}return ta+Math.floor(Math.random()*(ua-ta+1));};var ma={escape:{'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;'}};ma.unescape=da.invert(ma.escape);var na={escape:new RegExp('['+da.keys(ma.escape).join('')+']','g'),unescape:new RegExp('('+da.keys(ma.unescape).join('|')+')','g')};da.each(['escape','unescape'],function(ta){da[ta]=function(ua){if(ua==null)return '';return (''+ua).replace(na[ta],function(va){return ma[ta][va];});};});da.result=function(ta,ua){if(ta==null)return void 0;var va=ta[ua];return da.isFunction(va)?va.call(ta):va;};da.mixin=function(ta){ea(da.functions(ta),function(ua){var va=da[ua]=ta[ua];da.prototype[ua]=function(){var wa=[this._wrapped];m.apply(wa,arguments);return sa.call(this,va.apply(da,wa));};});};var oa=0;da.uniqueId=function(ta){var ua=++oa+'';return ta?ta+ua:ua;};da.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pa=/(.)^/,qa={"'":"'",'\\':'\\','\r':'r','\n':'n','\t':'t','\u2028':'u2028','\u2029':'u2029'},ra=/\\|'|\r|\n|\t|\u2028|\u2029/g;da.template=function(ta,ua,va){var wa;va=da.defaults({},va,da.templateSettings);var xa=new RegExp([(va.escape||pa).source,(va.interpolate||pa).source,(va.evaluate||pa).source].join('|')+'|$','g'),ya=0,za="__p+='";ta.replace(xa,function(cb,db,eb,fb,gb){za+=ta.slice(ya,gb).replace(ra,function(hb){return '\\'+qa[hb];});if(db)za+="'+\n((__t=("+db+"))==null?'':_.escape(__t))+\n'";if(eb)za+="'+\n((__t=("+eb+"))==null?'':__t)+\n'";if(fb)za+="';\n"+fb+"\n__p+='";ya=gb+cb.length;return cb;});za+="';\n";if(!va.variable)za='with(obj||{}){\n'+za+'}\n';za="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+za+"return __p;\n";try{wa=new Function(va.variable||'obj','_',za);}catch(ab){ab.source=za;throw ab;}if(ua)return wa(ua,da);var bb=function(cb){return wa.call(this,cb,da);};bb.source='function('+(va.variable||'obj')+'){\n'+za+'}';return bb;};da.chain=function(ta){return da(ta).chain();};var sa=function(ta){return this._chain?da(ta).chain():ta;};da.mixin(da);ea(['pop','push','reverse','shift','sort','splice','unshift'],function(ta){var ua=j[ta];da.prototype[ta]=function(){var va=this._wrapped;ua.apply(va,arguments);if((ta=='shift'||ta=='splice')&&va.length===0)delete va[0];return sa.call(this,va);};});ea(['concat','join','slice'],function(ta){var ua=j[ta];da.prototype[ta]=function(){return sa.call(this,ua.apply(this._wrapped,arguments));};});da.extend(da.prototype,{chain:function(){this._chain=true;return this;},value:function(){return this._wrapped;}});}).call(this);},null);
__d("ActorSelector.react",["BizSiteIdentifier.brands","BootloadedComponent.react","Bootloader","ContextualLayerBlind","CurrentUser","DOMScroll","Event","Image.react","LayerFadeOnHide","LayerFadeOnShow","ModulePerformanceGating","PageTransitions","React","ReactLayeredComponentMixin","ShortProfiles","Tooltip","XUIContextualDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIMenuSeparator.react","XUISelector.react","XUISpinner.react","underscore.ads","cx","ix","fbt","tidyEvent","BrandsAppConfig"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){b.__markCompiled&&b.__markCompiled();var ia=ba.Option,ja=b('BrandsAppConfig').gk;if(!q.bootload_page_voice_dropdown)i.loadModules(["PageVoiceDropdownSelector.react"],function(){});var ka=s,la=ka.PropTypes,ma=32,na=195,oa=500,pa=175,qa=16,ra=s.createClass({displayName:"ActorSelector",mixins:[t],propTypes:{actorIDs:la.array.isRequired,actorPermissions:la.object,coverEnabled:la.bool.isRequired,loading:la.bool,nuxBody:la.node,nuxEnabledCovered:la.bool,nuxEnabledUncovered:la.bool,nuxHoverContext:la.object,onChange:la.func.isRequired,onCompleteNux:la.func,selectedActorID:la.string,settingsURI:la.string,showName:la.bool,showNameMaxWidth:la.number,suppressed:la.bool,tooltipConstructor:la.func,tooltipConstructorCovered:la.func},getDefaultProps:function(){return {suppressed:true};},getInitialState:function(){return {actorData:{},clicked:false,nuxShown:false};},componentWillMount:function(){this._fetchActorData();},render:function(){var sa=ja.business_identity_page_voice_selector;if(!this.props.selectedActorID||!this.state.actorData[this.props.selectedActorID])return s.createElement("div",null);var ta=this._renderSelectorOptions();if(ta.length<1)return s.createElement("div",null);if(sa){return this._renderNewComponent();}else return this._renderOldComponent(ta);},_renderOldComponent:function(sa){var ta=this._isCovered();return (s.createElement("span",{className:"_6vh"},s.createElement(ca,{className:((!this.props.loading?"hidden_elem":'')+(!this.props.suppressed?' '+"_3-8_":''))}),s.createElement(ba,{haschevron:!ta,className:"_6vi",disabled:this.props.loading,maxheight:na,maxwidth:ta?qa:this.props.showName?this.props.showNameMaxWidth:ma,onChange:this.props.onChange,onClick:this._onClickSelector,ref:"selector",suppressed:this.props.suppressed,value:this.props.selectedActorID},sa)));},_renderNewComponent:function(){return (s.createElement("span",{className:"_6vh"},s.createElement(ca,{className:((!this.props.loading?"hidden_elem":'')+(' '+"_3-8_"))}),s.createElement(h,{bootloadPlaceholder:s.createElement("span",null),bootloadComponent:function(sa){i.loadModules(["PageVoiceDropdownSelector.react"],sa);},ref:"selector",covered:this._isCovered(),permissions:this.props.actorPermissions,pages:this.state.actorData,onChange:this.props.onChange,onClick:this._onClickSelector,selectedActorID:this.props.selectedActorID,searchBarVisible:true,showBusinessPages:false,showPageName:this.props.showName,showNameMaxWidth:this.props.showNameMaxWidth,showPersonalPagesInRoot:!g.isBizSite(),suppressed:this.props.suppressed,user:da.values(this.state.actorData)[0]})));},renderLayers:function(){if(!this.refs.selector)return null;var sa=null;if(this.props.settingsURI)sa=s.createElement("a",{onClick:this._onClickSettings,style:{verticalAlign:'middle'}},ga._("Post Attribution Settings"));if(this.state.nuxShown)l.ensureVisible(s.findDOMNode(this.refs.selector),null,pa);return {nux:s.createElement(w,{alignment:"right",behaviors:{ContextualLayerBlind:j,LayerFadeOnHide:o,LayerFadeOnShow:p},hasActionableContext:true,contextRef:"selector",position:"below",shown:this.state.nuxShown,width:w.WIDTH.NORMAL},s.createElement(x,null,this.props.nuxBody),s.createElement(y,{leftContent:sa},s.createElement(z,{action:"button",use:"confirm",onClick:this._onCompleteNux})))};},_renderSelectorOptions:function(){var sa=[],ta=[];this.props.actorIDs.map(function(ya){if(this._isBusinessManagedActor(ya)){ta.push(ya);}else sa.push(ya);}.bind(this));var ua=sa.map(this._renderActorOption);if(ta&&ta.length>0){var va=[],wa=(s.createElement(n,{src:fa('/images/bizsite/busmgr_bookmark_icon_16px.png'),alt:""})),xa=this._groupActorIDsByBusinessID(ta);da.map(xa,function(ya,za){va.push(s.createElement(aa,{key:'separator_'+za}));var ab=da.values(xa[za])[0],bb=ab?this.state.actorData[ab].businessName:za;va.push(s.createElement(ia,{disabled:true,icon:wa,key:'option_'+za},bb));da.map(ya,function(cb){va.push(this._renderActorOption(cb));}.bind(this));}.bind(this));}ua=ua.concat(va);return ua;},_renderActorOption:function(sa){var ta=this._isCovered(),ua=this.state.actorData[sa];if(!ua)return;var va=!!ua.businessID,wa=s.createElement(n,{className:"_6vg",height:qa,src:ta&&k.getID()===sa?fa('images/pages/voice/flag.png'):ua.thumbSrc,width:qa,alt:""});return (s.createElement(ia,{className:((va?"plm":'')),icon:wa,key:'actor_'+sa,value:sa},ua.name));},componentDidMount:function(){this._setTooltip();if(this._canShowNux())if(this.props.nuxHoverContext){var sa=ha(m.listen(this.props.nuxHoverContext,'mouseenter',function(){var ta=setTimeout(function(){sa.remove();if(this._canShowNux())this.setState({nuxShown:true});}.bind(this),oa),ua=ha(m.listen(this.props.nuxHoverContext,'mouseleave',function(){clearTimeout(ta);ua.remove();}));}.bind(this)));}else this.setState({nuxShown:true});},componentDidUpdate:function(sa){if(this.props.actorIDs.toString()!==sa.actorIDs.toString())this._fetchActorData();this._setTooltip();},_canShowNux:function(){return (this.props.nuxEnabledCovered&&this._isCovered())||(this.props.nuxEnabledUncovered&&!this._isCovered());},_fetchActorData:function(){u.getMulti(this.props.actorIDs,function(sa){this.setState({actorData:sa});}.bind(this));},_isCovered:function(){return (this.props.coverEnabled&&!this.state.clicked&&k.getID()===this.props.selectedActorID);},_onClickSelector:function(){this.setState({clicked:true});if(this.state.nuxShown)this._onCompleteNux();},_onClickSettings:function(){this._onCompleteNux();r.go(this.props.settingsURI);},_onCompleteNux:function(){this.setState({nuxShown:false});if(this.props.onCompleteNux)this.props.onCompleteNux({isCovered:this._isCovered()});},_setTooltip:function(){if(!this.refs.selector)return;var sa=this.state.actorData[this.props.selectedActorID];if(!sa)return;var ta=this._isCovered()&&this.props.tooltipConstructorCovered?this.props.tooltipConstructorCovered:this.props.tooltipConstructor;if(!ta)return;v.set(s.findDOMNode(this.refs.selector),ta(sa.name),'above','right');},_isBusinessManagedActor:function(sa){return (this.state.actorData[sa]&&this.state.actorData[sa].businessID);},_groupActorIDsByBusinessID:function(sa){var ta={};da.forEach(sa,function(ua,va){var wa=this.state.actorData[va]?this.state.actorData[va].businessID:null;if(wa){if(!ua[wa])ua[wa]={};ua[wa][va]=va;}}.bind(this,ta));return ta;}});e.exports=ra;},null);
__d("BusinessURI.brands",["underscore.ads","BizSiteIdentifier.brands","BusinessConf","URI"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(o,p){"use strict";j.call(this,o);if(h.isBizSite()){var q=p||h.getBusinessID();if(q)this.addQueryData(i.BIZ_ID_PARAM_NAME,q);if(!this.$BusinessURI0(this.getSubdomain()))this.setSubdomain(i.DOMAIN);}return this;}m.prototype.$BusinessURI0=function(o){"use strict";var p={DEVELOPERS:'developers'};return g(p).contains(o);};var n=function(o,p){return new m(o,p);};e.exports=n;},null);
__d("XActorSelectorNuxSeenWriteController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/actor_selector\/nux\/mark_seen\/",{nux_type:{type:"Enum",required:true,enumType:1}});},null);
__d("UFIActorSelector.react",["ActorSelector.react","ActorSelectorNuxTypes","Arbiter","AsyncRequest","Parent","React","SubscriptionsHandler","UFICentralUpdates","UFIFeedbackTargets","UFIUserActions","XActorSelectorNuxSeenWriteController","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=l,t=s.PropTypes,u='ufi_actor_selector_nux_disabled_event',v=l.createClass({displayName:"UFIActorSelector",propTypes:{actorIDs:t.array.isRequired,ftEntIdentifier:t.string.isRequired,isTimeline:t.bool,nuxEnabledCovered:t.bool,nuxEnabledUncovered:t.bool,nuxHoverContext:t.object,settingsURI:t.string},getInitialState:function(){var w=k.byClass(this.props.nuxHoverContext,'timelineUnitContainer');return {loading:false,nuxEnabledCovered:this.props.nuxEnabledCovered,nuxEnabledUncovered:this.props.nuxEnabledUncovered,nuxHoverContext:w?w:this.props.nuxHoverContext,selectedActorID:null};},render:function(){return (l.createElement(g,{actorIDs:this.props.actorIDs,coverEnabled:true,loading:this.state.loading,nuxBody:this._getNUXBody(),nuxEnabledCovered:this.state.nuxEnabledCovered,nuxEnabledUncovered:this.state.nuxEnabledUncovered,nuxHoverContext:this.state.nuxHoverContext,onChange:this._onChange,onCompleteNux:this._onCompleteNux,selectedActorID:this.state.selectedActorID,settingsURI:this.props.settingsURI,tooltipConstructor:this._getTooltipForActorName,tooltipConstructorCovered:this._getCoveredTooltip}));},componentDidMount:function(){this._updateSelectedActorIDFromFeedbackTarget();this._subscriptions=new m();this._subscriptions.addSubscriptions(n.subscribe('feedback-updated',function(w,x){if(this.props.ftEntIdentifier in x.updates)this._updateSelectedActorIDFromFeedbackTarget();}.bind(this)),i.subscribe(u,function(){this.setState({nuxEnabledCovered:false,nuxEnabledUncovered:false});}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();},_updateSelectedActorIDFromFeedbackTarget:function(){o.getFeedbackTarget(this.props.ftEntIdentifier,function(w){this.setState({loading:false,selectedActorID:w.actorforpost});}.bind(this));},_getNUXBody:function(){return (r._("Choose whether to like and comment as yourself or as one of the Pages you manage."));},_getTooltipForActorName:function(w){return (r._("Liking and commenting as {actorName}",[r.param("actorName",w)]));},_getCoveredTooltip:function(){return (r._("Like or comment as one of the Pages you manage."));},_onChange:function(w){this.setState({loading:true});p.changeActor(this.props.ftEntIdentifier,w.value);},_onCompleteNux:function(w){var x=w.isCovered,y=null;if(this.props.isTimeline){if(x){y=h.UFI_TIMELINE_COVERED;}else y=h.UFI_TIMELINE;}else y=h.UFI;var z=q.getURIBuilder().setEnum('nux_type',y).getURI();new j().setURI(z).send();i.inform(u);}});e.exports=v;},null);